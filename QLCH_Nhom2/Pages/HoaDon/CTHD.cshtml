@page
@model QLCH_Nhom2.Pages.HoaDon.CTHDModel
@{
}
<script src="https://kit.fontawesome.com/5a213e1813.js" crossorigin="anonymous"></script>
<style>
    .tb1 {
        z-index: 3;
        width: 41.5%;
        background-color: lightgray;
        position: absolute;
    }

    .tb2 {
        z-index: 1;
        width: 40%;
        position: absolute;
    }

    .hide {
        display: none;
    }
</style>
<div style="background-color:#1877F2;">
    <hr />
    <h1 style="text-align:center; color:white">BÁN HÀNG (2)</h1>
    <hr />
</div>
<br />
<form method="post">
    <div style="display:flex; width:100%;">
        <div style="width:50%;">
            <form method="post" style="width:90%;">
                <div class="mb-3">
                    <div class="col-sm-6" style="display:flex; width:100%;">
                        <input type="text" class="form-control" style="margin-right: 30px;" name="Search">
                        <button type="submit" style="background-color:white; border-color:lightgray; color:black;" class="btn btn-primary" id="btn1"><i class="fa-solid fa-magnifying-glass"></i></button>
                    </div>
                </div>
            </form>
            <table class="table tb1" id="table1">
                <tbody>
                    @foreach (var Hang in Model.listHang)
                    {
                        <tr>
                            <td>@Hang.MaHang</td>
                            <td>@Hang.TenHang</td>
                            <td>@Hang.SoLuong</td>
                            <td>@Hang.GiaBan</td>
                            <td>
                                <a class="btn btn-primary btn-sm" href="/HoaDon/CTHD?MaHang=@Hang.MaHang">Chọn</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <table class="table tb2">
                <thead>
                    <tr>
                        <th>Mã hàng</th>
                        <th>Tên hàng</th>
                        <th>Số lượng</th>
                        <th>Giá bán</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                        <tr>
                            <form method="post">
                            <td><label class="col-sm-3 col-form-label">@Model.CTHD.MaHang</label><input type="text" class="form-control hide" name="MaHang" value="@Model.CTHD.MaHang"></td>
                            <td><label class="col-sm-3 col-form-label" style="width:100%;">@Model.CTHD.TenHang</label><input type="text" class="form-control hide" name="TenHang" value="@Model.CTHD.TenHang"></td>
                            <td><input type="text" class="form-control" name="SoLuong" style="width:70px;" value="@Model.CTHD.SoLuong"></td>
                            <td><label class="col-sm-3 col-form-label">@Model.CTHD.GiaBan</label><input type="text" class="form-control hide" name="GiaBan" value="@Model.CTHD.GiaBan"></td>
                            <input type="text" class="form-control hide" name="ThanhTien" value="@Model.CTHD.ThanhTien">
                            <input type="text" class="form-control hide" name="MaHD" value="@Model.CTHD.MaHD">
                            <td>
                            <button type="submit" class="btn btn-primary btn-sm">OK</button>
                            <a class="btn btn-primary btn-sm" href="/HoaDon/InsertCTHD?MaHD=@Model.CTHD.MaHD&MaHang=@Model.CTHD.MaHang&SoLuong=@Model.CTHD.SoLuong&ThanhTien=@Model.CTHD.ThanhTien">Thêm</a>
                            </td>
                            </form>
                        </tr>
                </tbody>
            </table>
        </div>

        <div style="width:50%; ">
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label" style="margin-left:20px;">Mã hoá đơn</label>
                <label class="col-sm-3 col-form-label" style="border-bottom:2px black solid">@Model.CTHD.MaHD</label>
                <a style="background-color: #0dac50; width: 160px;height: 50px;padding-bottom: 0; padding-top: 14px;margin-left: 140px;" class="btn btn-primary btn-sm" href="/HoaDon/Info?MaHD=@Model.CTHD.MaHD">THANH TOÁN</a>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Mã hàng</th>
                        <th>Tên hàng</th>
                        <th>Số lượng</th>
                        <th>Giá bán</th>
                        <th>Thành tiền</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var cthd in Model.listCTHD)
                    {
                        <tr>
                            <td>@cthd.MaHang</td>
                            <td>@cthd.TenHang</td>
                            <td>@cthd.SoLuong</td>
                            <td>@cthd.GiaBan</td>
                            <td>@cthd.ThanhTien</td>
                            <td>
                                <button type="button" onclick="location.href='/HoaDon/DeleteCTHD?MaHD=@cthd.MaHD&MaHang=@cthd.MaHang';" class="btn btn-danger btn-sm">Xoá</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>    
        
        </div>
   </div>
</form>
<script>
    document.getElementById("btn1").onclick = function () {
        document.getElementById("table1").classList.add('hide');
    };

</script>
